# jira-stats		
		
Небольшая утилита для составления отчетов о качестве доработок на основе данных из баг-трекера JIRA		

# Контактная информация

Все общение по поводу дальнейшего развития приложения, исправления багов и т.п. ведется в [доске Trello](https://trello.com/b/7UU10dkC), подключение к доске по [этой ссылке](https://trello.com/invite/b/7UU10dkC/d294e59e352277f423953d13b2e86bc8/%D0%BE%D1%82%D1%87%D0%B5%D1%82%D1%8B-%D0%BF%D0%BE-jira). Для карточек с предложенными фичами / найденными багами предусмотрено голосование, чтобы таким образом определять приоритеты в разработке. Вопросы и уточнения по карточкам оставляйте в комментариях к ним.

# Установка		
		
## Предварительные требования		
		
Для работы утилиты необходимо наличие на машине Node.js и git. 		
		
Node.js можно скачать [отсюда](https://nodejs.org/en/download/), информация по установке git доступна [здесь](https://git-scm.com/book/ru/v2/%D0%92%D0%B2%D0%B5%D0%B4%D0%B5%D0%BD%D0%B8%D0%B5-%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0-Git) (для Windows скачать инсталлятор git можно [отсюда](https://git-for-windows.github.io/))		
		
## Получение исходников утилиты		
		
После установки git необходимо выполнить команду 		
```		
git clone https://github.com/nergal-perm/jira-stats.git		
```		
Эта команда создаст копию данного репозитория на локальном диске.		
		
## Обновление утилиты		
		
Если необходимо обновить исходники утилиты (например, после обновления поисковых запросов в репозитории), необходимо перейти в папку репозитория на локальном диске:		
```		
cd jira-stats		
```
и выполнить команду:		
```		
git pull origin master		
```		
		
## Разрешение зависимостей проекта		
		
После установки node.js и получения (либо обновления) исходников утилиты нужно перейти в папку с исходниками:		
```		
cd jira-stats		
```		
и выполнить команду, которая загрузит все необходимые зависимости:		
```		
npm install		
```		
		
# Формирование отчета		
		
## Конфигурирование		
		
Перед формированием отчета необходимо заполнить учетные данные. Для этого файл `config-example.json` необходимо скопировать и присвоить копии имя `config.json`. Затем откройте файл `config.json` и отредактируйте его следующим образом:		
* фразу `some_user` замените на ваше имя пользователя в jira,		
* вместо `some_pass` укажите ваш пароль в jira,		
* вместо `some_url` укажите адрес сервера jira.		
		
В файле `queries.json` при необходимости можно изменить поисковые запросы jira, используемые для подсчета количества дефектов.
		
**ВАЖНО!!!** В поисковых запросах не должно содержаться двойных кавычек. Заменяйте их на одиночные при копировании и вставке текста запросов из других источников.		
		
После внесения всех необходимых правок сохраните файл.		
		
## Запуск утилиты		
		
Утилита использует небольшой веб-сервер, запускающийся по адресу `http://localhost:3100`, порт пока "зашит" жестко, поэтому убедитесь, что он не занят ничем другим. Утилита запускается командой
```		
npm start
```
из папки с исходниками (по умолчанию `jira-stats`). Автоматически запустится браузер и загрузит форму для ввода исходных данных. После заполнения формы нажмите кнопку "Получить отчет" и подождите пока отработают запросы к JIRA.

## Запуск утилиты с помощью Docker

Для тех, кто не хочет ставить Node.js, но имеет [Docker](https://www.docker.com/), можно использовать его. Для этого нужно собрать образ:
```
docker build -t jira-stats .
```

И запустить контейнер с пробросом портов:
```
docker run -p 3100:3100 --rm -t -i -v $PWD:/usr/src/app jira-stats
```

Открываем в браузере `http://localhost:3100` и работаем как обычно.

		
# Дальнейшие доработки		
		
Можете оставлять сообщения об ошибках или пожелания по доработке на [доске Trello](https://trello.com/b/7UU10dkC) ([ссылка для подключения к доске](https://trello.com/invite/b/7UU10dkC/d294e59e352277f423953d13b2e86bc8/%D0%BE%D1%82%D1%87%D0%B5%D1%82%D1%8B-%D0%BF%D0%BE-jira)). Если напишете нужный функционал самостоятельно - жду pull request.
